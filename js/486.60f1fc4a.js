"use strict";(self["webpackChunkautoinline"]=self["webpackChunkautoinline"]||[]).push([[486],{8882:(t,e,i)=>{i.d(e,{Z:()=>O});i(71);var n=i(3673),a=i(8880);const s={class:"addCity__content row"},o={class:"addCity__input"},l={class:"addCity__input"},d={class:"addCity__input"},p={class:"addCity__input"},u={class:"modal__buttons row"};function c(t,e,i,c,g,r){const m=(0,n.up)("AiSelect"),h=(0,n.up)("AiInput"),_=(0,n.up)("AiButton"),v=(0,n.up)("AiModal");return(0,n.wg)(),(0,n.j4)(v,{open:t.open,title:t.modelTitle,isSave:"",onToggleOpen:t.toggleOpen},{default:(0,n.w5)((()=>[(0,n._)("form",{onSubmit:e[4]||(e[4]=(0,a.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[(0,n._)("div",s,[(0,n._)("div",o,[(0,n.Wm)(m,{options:t.cityList,selectValue:t.data.title,label:"Город",name:"city",required:"","onUpdate:selectValue":e[0]||(e[0]=e=>t.updateValue("title",e))},null,8,["options","selectValue"])]),(0,n._)("div",l,[(0,n.Wm)(m,{options:t.regionList,selectValue:t.data.region_id,label:"Регион",name:"region",required:"","onUpdate:selectValue":e[1]||(e[1]=e=>t.updateValue("region_id",e))},null,8,["options","selectValue"])]),(0,n._)("div",d,[(0,n.Wm)(m,{options:t.timezoneList,selectValue:t.data.timezone,label:"Часовой пояс","onUpdate:selectValue":e[2]||(e[2]=e=>t.updateValue("timezone",e))},null,8,["options","selectValue"])]),(0,n._)("div",p,[(0,n.Wm)(h,{value:t.data.slug,"onUpdate:value":e[3]||(e[3]=e=>t.data.slug=e),name:"slug",required:"",title:"Поддомен"},null,8,["value"])])]),(0,n._)("div",u,[(0,n.Wm)(_,{isSave:"",size:"big",text:"Сохранить",type:"submit"})])],32)])),_:1},8,["open","title","onToggleOpen"])}var g=i(6440),r=i.n(g),m=i(3617),h=i(3373),_=i(2337),v=i(4434),A=i(7931);const D=(0,n.aZ)({name:"Modal",components:{AiSelect:A.Z,AiInput:_.Z,AiModal:h.Z},props:{open:{type:Boolean},toggleOpen:{type:Function},tableData:{default:null}},data(){return{data:{title:"",region_id:"",timezone:r().tz.guess(),slug:""}}},watch:{tableData(){this.data={...this.tableData}}},computed:{...(0,m.Se)({cityL:"cities/getCities",regionList:"cities/getRegions",timezoneList:"cities/getTimezones"}),modelTitle(){return this.tableData?`Редактирование города - ${this.tableData.title}`:"Добавление города"},cityList(){return this.cityL.map((t=>t.title))}},methods:{...(0,m.nv)({postCity:"cities/postCity",updateCity:"cities/updateCity"}),updateValue(t,e){this.data[t]=e},async onSubmit(){if(/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(this.data.slug)){const t={...this.data,timezone:this.data.timezone.id||this.data.timezone,title:this.data.title,region_id:this.data.region_id.id};this.tableData?await this.updateCity(t):await this.postCity(t),this.toggleOpen(),this.data={title:"",region_id:"",timezone:r().tz.guess(),slag:""}}else v.Z.create({message:'Поле "Поддомен" не соответстует требованию.'})}}});var b=i(4260);const y=(0,b.Z)(D,[["render",c],["__scopeId","data-v-4cedeab6"]]),O=y},5837:(t,e,i)=>{i.d(e,{Z:()=>h});var n=i(3673);const a={class:"addDistrict__content"},s={class:"addDistrict__input"},o={class:"modal__buttons row"};function l(t,e,i,l,d,p){const u=(0,n.up)("AiInput"),c=(0,n.up)("AiButton"),g=(0,n.up)("AiModal");return(0,n.wg)(),(0,n.j4)(g,{open:t.open,title:t.modelTitle,isSave:"",onToggleOpen:t.toggleOpen},{default:(0,n.w5)((()=>[(0,n._)("div",a,[(0,n._)("div",s,[(0,n.Wm)(u,{value:t.data.title,"onUpdate:value":e[0]||(e[0]=e=>t.data.title=e),name:"title",title:"Наименование"},null,8,["value"])])]),(0,n._)("div",o,[(0,n.Wm)(c,{isSave:"",size:"big",text:"Сохранить",onClick:t.onSubmit},null,8,["onClick"])])])),_:1},8,["open","title","onToggleOpen"])}var d=i(3617),p=i(2337),u=i(3645),c=i(3373);const g=(0,n.aZ)({name:"",components:{AiModal:c.Z,AiButton:u.Z,AiInput:p.Z},props:{open:{type:Boolean},toggleOpen:{type:Function},tableData:{default:null}},data(){return{data:{title:""}}},watch:{tableData(){this.data={...this.tableData}}},computed:{...(0,d.Se)({districtList:"cities/getDistricts"}),modelTitle(){return this.tableData?`Редактирование округа - ${this.tableData.title}`:"Добавление округа"}},methods:{...(0,d.nv)({postDistrict:"cities/postDistrict",getDistricts:"cities/getDistricts",updateDistrict:"cities/updateDistrict"}),updateValue(t,e){this.data[t]=e},async onSubmit(){this.tableData?await this.updateDistrict(this.data):await this.postDistrict({title:this.data.title}),this.toggleOpen(),this.data={title:""}}}});var r=i(4260);const m=(0,r.Z)(g,[["render",l],["__scopeId","data-v-29688679"]]),h=m},4946:(t,e,i)=>{i.d(e,{Z:()=>_});var n=i(3673);const a={class:"addCity__content"},s={class:"addCity__input"},o={class:"addCity__input"},l={class:"modal__buttons row"};function d(t,e,i,d,p,u){const c=(0,n.up)("AiInput"),g=(0,n.up)("AiSelect"),r=(0,n.up)("AiButton"),m=(0,n.up)("AiModal");return(0,n.wg)(),(0,n.j4)(m,{open:t.open,title:t.modelTitle,isSave:"",onToggleOpen:t.toggleOpen},{default:(0,n.w5)((()=>[(0,n._)("div",a,[(0,n._)("div",s,[(0,n.Wm)(c,{value:t.data.title,"onUpdate:value":e[0]||(e[0]=e=>t.data.title=e),name:"slug",title:"Наименование"},null,8,["value"])]),(0,n._)("div",o,[(0,n.Wm)(g,{options:t.districtList,selectValue:t.data.district_id,label:"Федеральный округ",name:"district","onUpdate:selectValue":e[1]||(e[1]=e=>t.updateValue("district_id",e))},null,8,["options","selectValue"])])]),(0,n._)("div",l,[(0,n.Wm)(r,{isSave:"",size:"big",text:"Сохранить",onClick:t.onSubmit},null,8,["onClick"])])])),_:1},8,["open","title","onToggleOpen"])}var p=i(3617),u=i(2337),c=i(3645),g=i(3373);const r=(0,n.aZ)({name:"",components:{AiModal:g.Z,AiButton:c.Z,AiInput:u.Z},props:{open:{type:Boolean},toggleOpen:{type:Function},tableData:{default:null}},data(){return{data:{title:"",district_id:""}}},watch:{tableData(){this.data={...this.tableData}}},computed:{...(0,p.Se)({districtList:"cities/getDistricts"}),modelTitle(){return this.tableData?`Редактирование региона - ${this.tableData.title}`:"Добавление региона"}},methods:{...(0,p.nv)({postRegion:"cities/postRegion",updateRegion:"cities/updateRegion"}),updateValue(t,e){this.data[t]=e},async onSubmit(){const t={...this.data,district_id:this.data.district_id.id};this.tableData?await this.updateRegion(t):await this.postRegion(t),this.toggleOpen(),this.data={title:"",district_id:""}}}});var m=i(4260);const h=(0,m.Z)(r,[["render",d],["__scopeId","data-v-e2354b82"]]),_=h},4486:(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});var n=i(3673);const a={class:"page"};function s(t,e,i,s,o,l){const d=(0,n.up)("AddCity"),p=(0,n.up)("AddRegion"),u=(0,n.up)("AddDistrict"),c=(0,n.up)("AiHeader"),g=(0,n.up)("Tabs"),r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>["cities"===t.currentAddComponent?((0,n.wg)(),(0,n.j4)(d,{key:0})):"regions"===t.currentAddComponent?((0,n.wg)(),(0,n.j4)(p,{key:1})):((0,n.wg)(),(0,n.j4)(u,{key:2}))])),_:1}),(0,n._)("div",a,[(0,n.Wm)(g,{routes:t.routes},null,8,["routes"]),(0,n.Wm)(r)])],64)}var o=i(448);function l(t,e,i,a,s,o){const l=(0,n.up)("AiAddItem"),d=(0,n.up)("ModalContent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l,{length:t.cityList.length,open:t.open,toggleOpen:t.toggleOpen,title:"Города"},null,8,["length","open","toggleOpen"]),(0,n.Wm)(d,{open:t.open,toggleOpen:t.toggleOpen},null,8,["open","toggleOpen"])],64)}var d=i(3617),p=i(8882),u=i(8229);const c=(0,n.aZ)({name:"AddCity",components:{AiAddItem:u.Z,ModalContent:p.Z},data(){return{open:!1}},methods:{...(0,d.nv)({getRegions:"cities/getRegions"}),toggleOpen(){this.open||this.getRegions(),this.open=!this.open}},computed:{...(0,d.Se)({cityList:"filters/getCities"})}});var g=i(4260);const r=(0,g.Z)(c,[["render",l]]),m=r;function h(t,e,i,a,s,o){const l=(0,n.up)("AiAddItem"),d=(0,n.up)("ModalContent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l,{length:t.regionList.length,open:t.open,toggleOpen:t.toggleOpen,title:"Регионы"},null,8,["length","open","toggleOpen"]),(0,n.Wm)(d,{open:t.open,toggleOpen:t.toggleOpen},null,8,["open","toggleOpen"])],64)}var _=i(4946);const v=(0,n.aZ)({name:"AddRegion",components:{AiAddItem:u.Z,ModalContent:_.Z},data(){return{open:!1,data:{title:""}}},computed:{...(0,d.Se)({regionList:"cities/getRegions"})},methods:{...(0,d.nv)({postRegion:"cities/postRegion",getDistricts:"cities/getDistricts"}),toggleOpen(){this.getDistricts(),this.open=!this.open}}}),A=(0,g.Z)(v,[["render",h]]),D=A;function b(t,e,i,a,s,o){const l=(0,n.up)("AiAddItem"),d=(0,n.up)("ModalContent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l,{length:t.districtList.length,open:t.open,toggleOpen:t.toggleOpen,title:"Федеральные округа"},null,8,["length","open","toggleOpen"]),(0,n.Wm)(d,{open:t.open,toggleOpen:t.toggleOpen},null,8,["open","toggleOpen"])],64)}var y=i(5837);const O=(0,n.aZ)({name:"AddDistrict",components:{AiAddItem:u.Z,ModalContent:y.Z},data(){return{open:!1,data:{title:""}}},computed:{...(0,d.Se)({districtList:"cities/getDistricts"})},methods:{...(0,d.nv)({getDistricts:"cities/getDistricts"}),toggleOpen(){this.open=!this.open,this.getDistricts()}}}),C=(0,g.Z)(O,[["render",b]]),Z=C,w=(0,n.aZ)({name:"Cities",components:{AddDistrict:Z,AddRegion:D,Tabs:o.Z,AddCity:m},props:{},setup(t){return{routes:[{path:"/settings/cities/cities",name:"Города"},{path:"/settings/cities/regions",name:"Регионы"},{path:"/settings/cities/districts",name:"Федеральные округа"}]}},computed:{currentAddComponent(){const{name:t}=this.$route;return t}}}),S=(0,g.Z)(w,[["render",s]]),f=S}}]);